"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[566],{3905:function(t,e,a){a.d(e,{Zo:function(){return s},kt:function(){return c}});var n=a(7294);function r(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}function l(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function i(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?l(Object(a),!0).forEach((function(e){r(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):l(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function o(t,e){if(null==t)return{};var a,n,r=function(t,e){if(null==t)return{};var a,n,r={},l=Object.keys(t);for(n=0;n<l.length;n++)a=l[n],e.indexOf(a)>=0||(r[a]=t[a]);return r}(t,e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(t);for(n=0;n<l.length;n++)a=l[n],e.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(t,a)&&(r[a]=t[a])}return r}var p=n.createContext({}),d=function(t){var e=n.useContext(p),a=e;return t&&(a="function"==typeof t?t(e):i(i({},e),t)),a},s=function(t){var e=d(t.components);return n.createElement(p.Provider,{value:e},t.children)},m={inlineCode:"code",wrapper:function(t){var e=t.children;return n.createElement(n.Fragment,{},e)}},u=n.forwardRef((function(t,e){var a=t.components,r=t.mdxType,l=t.originalType,p=t.parentName,s=o(t,["components","mdxType","originalType","parentName"]),u=d(a),c=r,h=u["".concat(p,".").concat(c)]||u[c]||m[c]||l;return a?n.createElement(h,i(i({ref:e},s),{},{components:a})):n.createElement(h,i({ref:e},s))}));function c(t,e){var a=arguments,r=e&&e.mdxType;if("string"==typeof t||r){var l=a.length,i=new Array(l);i[0]=u;var o={};for(var p in e)hasOwnProperty.call(e,p)&&(o[p]=e[p]);o.originalType=t,o.mdxType="string"==typeof t?t:r,i[1]=o;for(var d=2;d<l;d++)i[d]=a[d];return n.createElement.apply(null,i)}return n.createElement.apply(null,a)}u.displayName="MDXCreateElement"},1788:function(t,e,a){a.r(e),a.d(e,{assets:function(){return s},contentTitle:function(){return p},default:function(){return c},frontMatter:function(){return o},metadata:function(){return d},toc:function(){return m}});var n=a(7462),r=a(3366),l=(a(7294),a(3905)),i=["components"],o={sidebar_position:2},p="iCalendar",d={unversionedId:"API/icalendar",id:"API/icalendar",title:"iCalendar",description:"iCalendar is a file format that is used to show events in a calendar. A limited version of the Open Meal data can be published in iCalendar format according to the following specification. It makes the meal information usable in a large number of applications, like Microsoft Outlook, Apple Calendar and Google Calendar.",source:"@site/docs/API/icalendar.md",sourceDirName:"API",slug:"/API/icalendar",permalink:"/Open-Meal/docs/API/icalendar",draft:!1,editUrl:"https://github.com/Sambruk/Open-Meal/tree/main/website/docs/API/icalendar.md",tags:[],version:"current",sidebarPosition:2,frontMatter:{sidebar_position:2},sidebar:"tutorialSidebar",previous:{title:"Specification",permalink:"/Open-Meal/docs/API/specification"},next:{title:"Providers",permalink:"/Open-Meal/docs/API/providers"}},s={},m=[{value:"Calendars",id:"calendars",level:2},{value:"Meal",id:"meal",level:3},{value:"Example",id:"example",level:3}],u={toc:m};function c(t){var e=t.components,o=(0,r.Z)(t,i);return(0,l.kt)("wrapper",(0,n.Z)({},u,o,{components:e,mdxType:"MDXLayout"}),(0,l.kt)("h1",{id:"icalendar"},"iCalendar"),(0,l.kt)("p",null,"iCalendar is a file format that is used to show events in a calendar. A limited version of the Open Meal data can be published in iCalendar format according to the following specification. It makes the meal information usable in a large number of applications, like Microsoft Outlook, Apple Calendar and Google Calendar."),(0,l.kt)("p",null,"Implementation of the iCalendar feature is optional but strongly recommended for providers. If the iCalendar feature is implemented, the URL to the iCalendar should be made availale via the ",(0,l.kt)("a",{parentName:"p",href:"/openapi-specification#tag/Distributor"},"distributor"),"."),(0,l.kt)("h2",{id:"calendars"},"Calendars"),(0,l.kt)("p",null,"Each iCalendar file will be formated according to ",(0,l.kt)("a",{parentName:"p",href:"http://tools.ietf.org/html/rfc5545"},"RFC 5545")," and ",(0,l.kt)("a",{parentName:"p",href:"http://tools.ietf.org/html/rfc5546"},"RFC 5546"),"."),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Property"),(0,l.kt)("th",{parentName:"tr",align:null},"Description"),(0,l.kt)("th",{parentName:"tr",align:null},"Value"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"VERSION"),(0,l.kt)("td",{parentName:"tr",align:null},"The version of iCalender that is used. This should be the first property of the Calendar."),(0,l.kt)("td",{parentName:"tr",align:null},"2.0")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"PRODID"),(0,l.kt)("td",{parentName:"tr",align:null},"A unique identifier for the product that is creating the iCalendar file. It is the responsibility of the publisher of the file to create a global unique identifier. For more information read ",(0,l.kt)("a",{parentName:"td",href:"http://tools.ietf.org/html/rfc5545#section-3.7.3"},"\xa73.7.3 in RFC 5545"),"."),(0,l.kt)("td",{parentName:"tr",align:null},"Example:",(0,l.kt)("br",null),(0,l.kt)("em",{parentName:"td"},"-//ABC Corporation//NONSGML My Product//EN"))),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"CALSCALE"),(0,l.kt)("td",{parentName:"tr",align:null},"What type of calendar that is used"),(0,l.kt)("td",{parentName:"tr",align:null},"GREGORIAN")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"METHOD"),(0,l.kt)("td",{parentName:"tr",align:null}),(0,l.kt)("td",{parentName:"tr",align:null},"PUBLISHED")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"X-WR-CALNAME"),(0,l.kt)("td",{parentName:"tr",align:null},"The name of the calendar, it is recommended that it contains information about the type of meal as well as the name of the distributor"),(0,l.kt)("td",{parentName:"tr",align:null},"Example:",(0,l.kt)("br",null),(0,l.kt)("em",{parentName:"td"},"Lunch at the South School"))),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"X-WR-TIMEZONE"),(0,l.kt)("td",{parentName:"tr",align:null},"The timezone of the calendar"),(0,l.kt)("td",{parentName:"tr",align:null},"Example:",(0,l.kt)("br",null),(0,l.kt)("em",{parentName:"td"},"Europe/Stockholm"))),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"X-WR-CALDESC"),(0,l.kt)("td",{parentName:"tr",align:null},"A description of the calendar"),(0,l.kt)("td",{parentName:"tr",align:null},"Example:",(0,l.kt)("br",null),(0,l.kt)("em",{parentName:"td"},"Lunch menu at the South School in Leeds"))))),(0,l.kt)("h3",{id:"meal"},"Meal"),(0,l.kt)("p",null,"The meal of a day is described a ",(0,l.kt)("a",{parentName:"p",href:"http://tools.ietf.org/html/rfc5545#section-3.6.1"},"VEVENT")," object with the following properties:"),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Property"),(0,l.kt)("th",{parentName:"tr",align:null},"Description"),(0,l.kt)("th",{parentName:"tr",align:null},"Value"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"DTSTART"),(0,l.kt)("td",{parentName:"tr",align:null},"The date the meal is served. In the format YYYYMMDD. Note that the time for the meal is not specified."),(0,l.kt)("td",{parentName:"tr",align:null},"Example:",(0,l.kt)("br",null),"20150501")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"DTEND"),(0,l.kt)("td",{parentName:"tr",align:null},"The date the meal is served. In the format YYYYMMDD. Note that the time for the meal is not specified."),(0,l.kt)("td",{parentName:"tr",align:null},"Example:",(0,l.kt)("br",null),"20150501")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"DTSTAMP"),(0,l.kt)("td",{parentName:"tr",align:null},"Date and time when this VEVENT object was created. In the format YYYYMMDDTHHMMSS. Note that it is not allowed to use UTC offset when the time is specified."),(0,l.kt)("td",{parentName:"tr",align:null},"Example:",(0,l.kt)("br",null),(0,l.kt)("em",{parentName:"td"},"20140618T110000"))),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"UID"),(0,l.kt)("td",{parentName:"tr",align:null},"A global unique identifier for this event. For more information on how to create this value read ",(0,l.kt)("a",{parentName:"td",href:"http://tools.ietf.org/html/rfc5545#section-3.8.4.7"},"\xa73.8.4.7 in RFC 5545"),"."),(0,l.kt)("td",{parentName:"tr",align:null},"Example:",(0,l.kt)("br",null),(0,l.kt)("em",{parentName:"td"},(0,l.kt)("a",{parentName:"em",href:"mailto:19960401T080045Z-4000F192713-0052@example.com"},"19960401T080045Z-4000F192713-0052@example.com")))),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"CREATED"),(0,l.kt)("td",{parentName:"tr",align:null},"Date and time when this VEVENT object was created. In the format YYYYMMDDTHHMMSS. Note that it is not allowed to use UTC offset when the time is specified."),(0,l.kt)("td",{parentName:"tr",align:null},"Example:",(0,l.kt)("br",null),(0,l.kt)("em",{parentName:"td"},"20140618T110000"))),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"SUMMARY"),(0,l.kt)("td",{parentName:"tr",align:null},"A short description of the courses served in the meal. Should only contain the one or two courses with the lowest ",(0,l.kt)("em",{parentName:"td"},"order")," in order to keep the text as short as possible. A course should be described with the text in the courses ",(0,l.kt)("em",{parentName:"td"},"description")," property with one course per line. Each line should be ended with ",(0,l.kt)("em",{parentName:"td"},'"\\n"'),".",(0,l.kt)("br",null),"For more information about the property of a Course see the ",(0,l.kt)("a",{parentName:"td",href:"/openapi-specification#tag/Meal/paths/~1meals/get"},"List Meals method")),(0,l.kt)("td",{parentName:"tr",align:null},"Example:",(0,l.kt)("br",null),(0,l.kt)("em",{parentName:"td"},"Wokkyckling med pasta, gr\xf6nsaker och tomatsalsa\\nK\xf6ttbullar och spagetti"))),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"DESCRIPTION"),(0,l.kt)("td",{parentName:"tr",align:null},'A longer description of the meal, with all courses. One course description per line, each line should be ended with "\\n"'),(0,l.kt)("td",{parentName:"tr",align:null},"Example:",(0,l.kt)("br",null),(0,l.kt)("em",{parentName:"td"},"Wokkyckling med pasta, gr\xf6nsaker och tomatsalsa\\nK\xf6ttbullar och spagetti\\nGr\xf6nsakssoppa"))),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"LOCATION"),(0,l.kt)("td",{parentName:"tr",align:null},"The name of the location the meal will be served"),(0,l.kt)("td",{parentName:"tr",align:null},"Example:",(0,l.kt)("br",null),"Katedralskolan, Link\xf6ping")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"LAST-MODIFIED"),(0,l.kt)("td",{parentName:"tr",align:null},"Date and time when this event object was last updated. In the format YYYYMMDDTHHMMSS.Note that it is not allowed to use UTC offset when the time is specified."),(0,l.kt)("td",{parentName:"tr",align:null},"Example:",(0,l.kt)("br",null),(0,l.kt)("em",{parentName:"td"},"20140618T110000"))),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"SEQUENCE"),(0,l.kt)("td",{parentName:"tr",align:null},"The version number of this event object, starting at 0. If an event is updated the value of this property needs to be incremented."),(0,l.kt)("td",{parentName:"tr",align:null},"Example:",(0,l.kt)("br",null),(0,l.kt)("em",{parentName:"td"},"0"))),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"TRANSP"),(0,l.kt)("td",{parentName:"tr",align:null},"Specifies if the calendar event affects users accessibility for other events."),(0,l.kt)("td",{parentName:"tr",align:null},"TRANSPARENT")))),(0,l.kt)("p",null,"For all text properties (Summary, Description, Location etc) special characters like commas, quotation marks, colons have to be escaped according to ",(0,l.kt)("a",{parentName:"p",href:"https://www.ietf.org/rfc/rfc2445.txt"},"\xa74.3.11 in RFC 2455"),'. For example this means that commas should be written "\\," and backslashes "',"\\",'".'),(0,l.kt)("h3",{id:"example"},"Example"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre"},"    BEGIN:VCALENDAR\n    PRODID:-//ABC Corporation//NONSGML My Product//EN\n    VERSION:2.0\n    CALSCALE:GREGORIAN\n    METHOD:PUBLISH\n    X-WR-CALNAME:Lunch: Katedralskolan, Link\xf6ping\n    X-WR-TIMEZONE:Europe/Stockholm\n    X-WR-CALDESC:Lunchmeny fr\xe5n Katedralskolan i Link\xf6ping.\n    BEGIN:VEVENT\n    DTSTART:20140701\n    DTEND:20140701\n    DTSTAMP:20140618T110000\n    UID:19960401T080045Z-4000F192713-0052@example.com\n    CREATED:20140618T110000\n    SUMMARY:Wokkyckling med pasta, gr\xf6nsaker och tomatsalsa\\nK\xf6ttbullar och spagetti\n    DESCRIPTION:Wokkyckling med pasta, gr\xf6nsaker och tomatsalsa\\nK\xf6ttbullar och     spagetti\\nGr\xf6nsakssoppa\n    LOCATION:Storskolan, \xd6rebro\n    LAST-MODIFIED:20140618T110000\n    SEQUENCE:0\n    TRANSP:TRANSPARENT\n    END:VEVENT\n    END:VCALENDAR\n")),(0,l.kt)("p",null,"This is an example of ",(0,l.kt)("a",{parentName:"p",href:"https://skolmaten.se/about/calendar/engelbrektsskolan/"},"an iCalendar feed available for subscription for the school \u201dEngelbrektsskolan\u201d in \xd6rebro, Sweden"),". The page is in swedish but the subscription link is called \u201dKalender\u201d and is located at the bottom of the page. Copy the link for use in your calendar software or just click it, most devices will ask you if you want to subscribe. This is what it can look like:"),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"Calendar",src:a(2834).Z,width:"1491",height:"498"}),"\n",(0,l.kt)("img",{alt:"Calendar expanded",src:a(6037).Z,width:"1884",height:"579"})))}c.isMDXComponent=!0},6037:function(t,e,a){e.Z=a.p+"assets/images/Kalender-maltidsinformation-crop-expanded-dd5cce33945d7893147b61f0cb3708bb.png"},2834:function(t,e,a){e.Z=a.p+"assets/images/Kalender-maltidsinformation-crop-4e4f3b8983729e7757c1e62da6b35b2b.png"}}]);